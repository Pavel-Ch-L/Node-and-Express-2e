# 10. Промежуточное ПО

	• Промежуточное ПО - инструмент для инкапсуляции функциональности, особенно той,
		что работает с HTTP запросами к вашему приложению. Это просто функция принимающая три аргумента
		req, res, next().
	• Промежутосное ПО выполняется конвейерной обработкой (последовательно) т.е. очередность имеет значение.
	• app.use - вставка промежуточного ПО.
	• Обработчики маршрутов и промежуточное ПО выполняется в том порядке, в котором подключены.
	• Последним промежуточным ПО является обработчик не подходящий ни для одного маршрута и 
		возвращает код 404 не найдено.
	• Обработчики маршрутов app.METHOD - промежуточное ПО обрабатывающее один конкретный метод HTTP.
	• app.use Промежуточное ПО обрабатывающее все методы HTTP.
	• В качестве первого параметра обработчика маршрута требуется путь. Для любого маршрута - '/*'
		Промежуточное ПО т.ж. может принимать путь(его отсутствие означает любой путь)
	• Обработчики маршрутов и промежуточное ПО принимают функцию обратного вызова с двумя тремя и четырьмя параметрами.
		(req, res) (req, res, next) (err, req, res, next)   
	• Если не вызывается next() конвейер будет завершен и обработчики маршрутов и промежуточное 
		ПО больше выполняться не будут. Если next() не вызывается то следует отправить на клиент 
		ответ(res.send, res.json, res.render ..). Если этого не сделать, то соединение зависнет.
	• Если вызывается next(), то отправлять ответ клиенту не целесообразно(будут выполнены все промежуточные ПО или
		обработчики маршрута дальше в конвеере, но ответы отправляемые ими клиенту, будут проигнорированы).
	• Промежуточное ПО должно быть функцией( console.log(express.static()) // => function ).
	• Модуль может экспортировать функцию, которая может использоваться в качестве промежуточного ПО.
		Часто экспортируется объект, свойствами которого являются промежуточные ПО.
	• Наиболее распространенное промежуточное ПО стр.144
	• Все промежуточное ПО доступно в npm по ключевым словам Express middleware.
	• Express - рекомендуемый список промежуточного ПО https://expressjs.com/en/resources/middleware.html