# 8. Обработка форм

	• Самым распромстранненым способом сбора информации о пользователях является применение html-форм.
	• Существуют два способа оправить данные с клиента на сервер: через строку запроса и через тело.
		Бораузеры часто накладывают ограничения на длинну строки запроса, размер тела ничем не ограничен.
	• По умолчанию форма отправляется методом GET.
	• Атрибут action определяет адрес который получит форму, когда она будет отправлена. По умолчанию форма 
		отправляется по тому же URL с которого была получена.
	• В полях <input> важный для сервера атрибут name именно по нему сервер определяет поле.
	• По умолчанию метод кодирования формы application/x-wwwform-urlencoded.
	• Есть два фактора при обработке формы: каким путем обрабатывать форму и какой отвает 
		будет отправлен браузеру. Если форма использует метод POST то обычно используется один и тот же
		путь для отображения и обработки (можно пропустить атрибут action  в форме). Использование отдельной 
		конечной точки для обработки форм может быть оправдано, например, если на многих страницах размещается 
		одна и та же форма.
	• Варианты ответа браузеру после отправки формы: 
		- Прямой ответ. Не рекомендуется т.к. при этом будет выводиться предупреждение, ести пользователь попробует
			перезагрузить страницу. Кроме того, этот способ припятствует использованию закладок и кнопки Back.
		- Переадресация 302. Не рекомендуется (устарел).
		- Переадресация 303. Рекомендуемый метод для ответа на запрос отправки формы.
	• Варианты перехода после перенаправления:
		- На специальные страницы (успеха-неуспеха);
		- На исходную страницу с уведомлением;
		- На новое место с уведомлением.
	• Если используется GET запрос для обработки формы, поля будут доступны как объект req.query.
	• Если используется POST запрос для обработки формы, поля будут доступны как объект req.body.
		Не препятствует использованию строки запроса.
	• Перенаправление 301 - постоянное т.е. браузер может кэшировать место перенаправления(при попытке отправить
		форму еще раз браузер может проигнорировать обработчик формы и сразу перейти на закешированную страницу).
		303 переадресация не кэширует место перенаправления.
	• Применение API fetch для отправки данных формы, закодированных в формате JSON - более
		современный подход(не нужно беспокоиться о перенаправлениях).
	• Существуют четыре популярные опции для обработки multipart/form-data:
		- Busboy;
		- Multiparty;
		- Formidable;
		- Multer.
	• Для загрузки файла на сервер в форме указывается enctype: "multipart/form-data"
	• В тэге <input type="file" accept="image/*"> можно ограничить тип файлов загружаемых на сервер.
	• Популярные клиентские приложения для загрузки файлов:
		- JQuery File Upload - https://github.com/blueimp/jQuery-File-Upload
		- Uppy - https://github.com/transloadit/uppy
		- file-upload-with-preview - https://github.com/johndatserakis/file-upload-with-preview
	• Способы кодирования форм:
		- application/x-www-form-urlencoded  по умолчанию;
		- application/json  отправка данных с помощю fetch;
		- multipart/form-data  кодирование при передаче файлов.